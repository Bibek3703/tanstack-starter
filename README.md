# TanStack Starter

A modern full-stack web application starter template built with React, TanStack Router, TanStack Form, and PostgreSQL.

## ğŸš€ Quick Start

### Prerequisites
- Node.js (v18+)
- PostgreSQL database
- Environment variables configured

### Installation

```bash
npm install
```

### Environment Setup

Create a `.env.local` file with the following variables:

```env
DATABASE_URL="postgresql://user:password@localhost:5432/tanstack-starter"
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret
```

Add the following to configure transactional email via Resend:

```env
RESEND_API_KEY=your_resend_api_key
```

### Development

```bash
npm run dev
```

The application will start on `http://localhost:4000`

## Building For Production

```bash
npm run build
```

### Preview Production Build

```bash
npm run preview
```

## ğŸ“ Project Structure

```
src/
â”œâ”€â”€ routes/                # File-based routing (generated by TanStack Router)
â”‚   â”œâ”€â”€ __root.tsx         # Root layout
â”‚   â”œâ”€â”€ index.tsx          # Home page
â”‚   â”œâ”€â”€ _auth/             # Auth routes and pages
â”‚   â”‚   â”œâ”€â”€ route.tsx
â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â”œâ”€â”€ signup/
â”‚   â”‚   â”œâ”€â”€ forgot-password/
â”‚   â”‚   â””â”€â”€ reset-password/
â”‚   â”œâ”€â”€ api/               # Server/edge API routes
â”‚   â”‚   â””â”€â”€ auth/
â”‚   â”œâ”€â”€ dashboard/         # Protected dashboard area
â”‚   â”‚   â”œâ”€â”€ route.tsx
â”‚   â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚   â”œâ”€â”€ discover.tsx
â”‚   â”‚   â”œâ”€â”€ import.tsx
â”‚   â”‚   â””â”€â”€ items/
â”‚   â””â”€â”€ posts/             # Posts list and detail routes
â”‚       â””â”€â”€ $postId/
â”‚           â””â”€â”€ edit/
â”œâ”€â”€ components/            # React components
â”‚   â”œâ”€â”€ ui/                # shadcn/ui primitives (button, input, card...)
â”‚   â””â”€â”€ web/               # App-specific components (forms, nav, sidebar)
â”œâ”€â”€ data/                  # Static/demo data and helpers (email helpers)
â”œâ”€â”€ db/                    # Database config and Drizzle schemas
â”œâ”€â”€ hooks/                 # Custom React hooks
â”œâ”€â”€ middlewares/           # Request/response middlewares (auth, logging, rate-limit)
â”œâ”€â”€ lib/                   # Utilities and configs (auth, theme-provider, utils)
â”œâ”€â”€ schemas/               # Zod schemas and validation
â””â”€â”€ styles.css             # Global styles
```

## ğŸ” Authentication

The application uses **Better Auth** with support for:

- **Email & Password** authentication
- **Google OAuth** (configured)
- Session management with token-based auth
- Email verification

### Authentication Flow

1. Users can sign up with email/password or Google OAuth
2. Sessions are stored in the database
3. Protected routes require valid authentication
4. Dashboard routes are accessible only to authenticated users

## ğŸ“§ Email Delivery (Resend)

This project uses Resend for transactional email delivery (verification and password reset). Configure the API key via the `RESEND_API_KEY` environment variable. The email helper is implemented in `src/data/email.ts` and exposes server functions such as `sendVerificationLinkEmail` and `sendPasswordResetEmail`.

- **RESEND_API_KEY**: Your Resend API key (required).
- **From address**: The default `from` address is set in `src/data/email.ts`; update it there or add your own env var if you prefer.

Example usage (server-side helper): the project uses `resend.emails.send(...)` to send verification and reset emails with a verification/reset `url` sent in the payload.

## ğŸ“¦ Technology Stack

### Frontend
- **React 19** - UI library
- **TanStack Router** - File-based routing with SSR support
- **TanStack React Form** - Form state management
- **Tailwind CSS 4** - Utility-first styling
- **shadcn/ui** - Pre-built UI components
- **Sonner** - Toast notifications
- **Lucide React** - Icon library

### Backend & Database
- **Nitro** - Server framework
- **Drizzle ORM** - Type-safe database queries
- **PostgreSQL** - Database
- **Better Auth** - Authentication

### Development Tools
- **TypeScript** - Type safety
- **Vite** - Build tool
- **Vitest** - Testing framework
- **ESLint** - Code linting
- **Prettier** - Code formatting

## ğŸ“ Available Scripts

| Command | Description |
|---------|-------------|
| `npm run dev` | Start development server on port 4000 |
| `npm run build` | Build for production |
| `npm run preview` | Preview production build |
| `npm test` | Run tests with Vitest |
| `npm run lint` | Run ESLint checks |
| `npm run format` | Format code with Prettier |
| `npm run check` | Lint and format in fix mode |
| `npm run db:generate` | Generate database migrations |
| `npm run db:migrate` | Run database migrations |
| `npm run db:push` | Push schema to database |
| `npm run db:pull` | Pull schema from database |
| `npm run db:studio` | Open Drizzle Studio |

## ğŸ—„ï¸ Database Schema

### Authentication Tables
- **user** - User profiles and metadata
- **session** - User sessions with expiration
- **account** - OAuth and password accounts
- **verification** - Email verification tokens

### Application Tables
- **todos** - Example todo items



## ğŸ¨ Styling

The project uses **Tailwind CSS 4** with the Vite integration for optimized builds. UI components are sourced from **shadcn/ui** and customized via `components.json`.

## ğŸ§ª Testing

Run tests with Vitest:

```bash
npm run test
```

## ğŸ“‹ Code Quality

### Linting & Formatting

```bash
# Check for issues
npm run lint

# Format code
npm run format

# Fix all issues
npm run check
```

The project uses:
- **ESLint** with TanStack config
- **Prettier** for code formatting
- **TypeScript strict mode** for type safety

## ğŸ”— Key Routes

| Route | Purpose |
|-------|---------|
| `/` | Home page |
| `/login` | User login |
| `/signup` | User registration |
| `/forgot-password` | Request password reset |
| `/reset-password` | Password reset form (tokenized) |
| `/dashboard` | Protected dashboard |
| `/dashboard/discover` | Discover content |
| `/dashboard/import` | Import content |
| `/dashboard/items` | Browse imported items |
| `/posts` | Blog posts |
| `/posts/:postId` | View a single post |

## ğŸ› ï¸ Development

### Adding a New Route

Create a new file in `src/routes/`:

```tsx
import { createFileRoute } from '@tanstack/react-router'

export const Route = createFileRoute('/my-route')({
  component: MyComponent,
})

function MyComponent() {
  return <div>My Route Content</div>
}
```

TanStack Router automatically generates the route configuration.

### Adding UI Components

Use shadcn/ui components from `src/components/ui/`:

```tsx
import { Button } from '@/components/ui/button'
import { Card } from '@/components/ui/card'

export function MyComponent() {
  return (
    <Card>
      <Button>Click me</Button>
    </Card>
  )
}
```

### Database Queries

Use Drizzle ORM for type-safe queries:

```typescript
import { db } from '@/db'
import { todos } from '@/db/schema'

const allTodos = await db.select().from(todos)
```

## ğŸ“š Resources

- [TanStack Router Documentation](https://tanstack.com/router)
- [Drizzle ORM Documentation](https://orm.drizzle.team/)
- [Tailwind CSS Documentation](https://tailwindcss.com/)
- [Better Auth Documentation](https://www.better-auth.com/)
- [shadcn/ui Components](https://ui.shadcn.com/)

## ğŸ“ License

This project is part of the TanStack ecosystem.
